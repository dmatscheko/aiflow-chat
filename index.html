<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="icon" href="penguin.svg" type="image/svg+xml" sizes="any">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIFlow Chat</title>
    <link rel="stylesheet" href="css/3rdparty/hljs_androidstudio.min.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/agents.css">
</head>

<body>
    <div id="colContainer">
        <h2 id="header">AIFlow Chat</h2>
        <div id="mainContent" style="display: flex; flex: 1; overflow: hidden;">
            <div id="chatListContainer">
                <div id="chatListWrapper">
                    <ul id="chatList"></ul>
                </div>
                <div id="chatControls">
                    <div class="left-buttons">
                        <button id="saveChatButton" title="Save current chat" class="toolButton">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M3 5a2 2 0 0 1 2-2h11.586A2 2 0 0 1 18 3.586l2.707 2.707A1 1 0 0 1 21 7v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5zm6 14h6v-6H9v6zm8 0h2V7.414l-2-2V7a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2V5H5v14h2v-6a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v6zM9 5v2h6V5H9z"
                                    fill="currentColor" />
                            </svg>
                        </button>
                        <button id="loadChatButton" title="Load chat" class="toolButton">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="m 1.9819243,7.2224558 a 2,2 0 0 1 2.0000001,-2 h 5 a 1,1 0 0 1 0.707,0.293 l 1.7069996,1.707 h 8.586 a 2,2 0 0 1 2,2.0000004 v 9.9999998 a 2,2 0 0 1 -2,2 H 3.9819244 a 2,2 0 0 1 -2.0000001,-2 z m 6.5860001,0 h -4.586 V 19.222456 H 19.981924 V 9.2224562 h -9 a 1,1 0 0 1 -0.707,-0.293 z"
                                    fill="currentColor" />
                                <path
                                    d="M 2.3055156,7.2224558 3.0246072,4.7775442 c 0.3116724,-1.0596858 0.8954305,-2 2,-2 h 4.9999998 c 0.265195,5.67e-5 0.519507,0.1054506 0.707,0.293 l 1.707,1.707 7.579272,-0.1078637 c 1.104457,-0.015718 2.015556,0.89554 2,2 l -0.03596,2.5527757 h -2 l 0.03596,-2.5527757 -7.993272,0.1078637 c -0.265195,-5.66e-5 -0.519507,-0.1054506 -0.707,-0.293 l -1.7070048,-1.707 h -4.586 L 4.3055155,7.2224558 Z"
                                    fill="currentColor" />
                            </svg>
                        </button>
                    </div>
                    <button id="newChatButton" title="New chat" class="toolButton">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M12 4a1 1 0 0 1 1 1v6h6a1 1 0 1 1 0 2h-6v6a1 1 0 1 1-2 0v-6H5a1 1 0 1 1 0-2h6V5a1 1 0 0 1 1-1z" fill="currentColor"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div id="chatArea" style="flex: 1; display: flex; flex-direction: column; overflow: hidden;">
                <div id="tabs">
                    <div id="main-tabs">
                        <button class="tab-button active" data-tab="chat">Chat</button>
                    </div>
                    <div id="tab-buttons">
                        <a id="source" href="https://github.com/dmatscheko/aiflow-chat" target="_blank">github src</a>
                        <button id="toggleChatList" title="Chats List" class="toolButton only-mobile">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 5h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2zm18 4H3a1 1 0 1 0 0 2h18a1 1 0 1 0 0-2zm0 6H3a1 1 0 1 0 0 2h18a1 1 0 1 0 0-2z" fill="currentColor"/></svg>
                        </button>
                        <button id="settingsButton" title="Settings" class="toolButton">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M12 4a1 1 0 0 0-1 1c0 1.692-2.046 2.54-3.243 1.343a1 1 0 1 0-1.414 1.414C7.54 8.954 6.693 11 5 11a1 1 0 1 0 0 2c1.692 0 2.54 2.046 1.343 3.243a1 1 0 0 0 1.414 1.414C8.954 16.46 11 17.307 11 19a1 1 0 1 0 2 0c0-1.692 2.046-2.54 3.243-1.343a1 1 0 0 0 1.414-1.414C16.46 15.046 17.307 13 19 13a1 1 0 1 0 0-2c-1.692 0-2.54-2.046-1.343-3.243a1 1 0 0 0-1.414-1.414C15.046 7.54 13 6.693 13 5a1 1 0 0 0-1-1zm-2.992.777a3 3 0 0 1 5.984 0 3 3 0 0 1 4.23 4.231 3 3 0 0 1 .001 5.984 3 3 0 0 1-4.231 4.23 3 3 0 0 1-5.984 0 3 3 0 0 1-4.231-4.23 3 3 0 0 1 0-5.984 3 3 0 0 1 4.231-4.231z"
                                    fill="currentColor" />
                                <path
                                    d="M12 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-2.828-.828a4 4 0 1 1 5.656 5.656 4 4 0 0 1-5.656-5.656z"
                                    fill="currentColor" />
                            </svg>
                        </button>
                    </div>
                </div>
                <div id="tab-content">
                    <div class="tab-pane active" id="chat-tab-pane">
                        <div id="chatContainer">
                            <div id="chat"></div>
                        </div>
                        <div id="inputContainer">
                            <textarea id="messageInput" autofocus
                                placeholder="Enter multiline message and press &lt;shift&gt;+&lt;enter&gt;, or &lt;ctrl&gt;+&lt;enter&gt;, or click the triangle button."
                                rows="3"></textarea>
                            <button id="submitButton" title="Submit message / Stop assistant" class="toolButton">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M6 6.741c0-1.544 1.674-2.505 3.008-1.728l9.015 5.26c1.323.771 1.323 2.683 0 3.455l-9.015 5.258C7.674 19.764 6 18.803 6 17.26V6.741zM17.015 12L8 6.741V17.26L17.015 12z"
                                        fill="currentColor" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="settings">
        <div id="global-model-settings-container"></div>
        <fieldset>
            <legend>User role</legend>
            <input type="radio" id="system" name="user_role" value="system">
            <label for="system">System</label><br>
            <input type="radio" id="user" name="user_role" value="user" checked>
            <label for="user">User</label><br>
            <input type="radio" id="assistant" name="user_role" value="assistant">
            <label for="assistant">Assistant</label><br>
            <input type="radio" id="tool" name="user_role" value="tool">
            <label for="tool">Tool</label>
        </fieldset>
        <br>
        <fieldset>
            <legend>Connection</legend>
            <label for="endpoint" style="margin-bottom: 4px; display: block;">API Endpoint</label>
            <input type="text" id="endpoint" value="https://api.openai.com/v1/chat/completions">
            <label for="apiKey" style="margin-bottom: 4px; display: block; margin-top: 12px;">API Key</label>
            <input type="password" id="apiKey">
            <div id="session-login">
                <label for="login-btn">Login</label>
                <button id="login-btn" title="Login" class="toolButton">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14 19a1 1 0 1 0 0 2h5a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-5a1 1 0 1 0 0 2h5v14h-5z" fill="currentColor"/><path d="M15.714 12.7a.996.996 0 0 0 .286-.697v-.006a.997.997 0 0 0-.293-.704l-4-4a1 1 0 1 0-1.414 1.414L12.586 11H3a1 1 0 1 0 0 2h9.586l-2.293 2.293a1 1 0 1 0 1.414 1.414l4-4 .007-.007z" fill="currentColor"/></svg>
                </button>
            </div>
            <div id="session-logout">
                <label for="logout-btn">Logout</label>
                <button id="logout-btn" title="Logout" class="toolButton">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M11 20a1 1 0 0 0-1-1H5V5h5a1 1 0 1 0 0-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h5a1 1 0 0 0 1-1z" fill="currentColor"/><path d="M21.714 12.7a.996.996 0 0 0 .286-.697v-.006a.997.997 0 0 0-.293-.704l-4-4a1 1 0 1 0-1.414 1.414L18.586 11H9a1 1 0 1 0 0 2h9.586l-2.293 2.293a1 1 0 1 0 1.414 1.414l4-4 .007-.007z" fill="currentColor"/></svg>
                </button>
            </div>
        </fieldset>
    </div>
    <div id="error-bubble">
        <button id="error-bubble-close">Ã—</button>
        <div id="error-bubble-content"></div>
    </div>
    <script src="js/3rdparty/katex.min.js"></script>
    <script src="js/3rdparty/auto-render.min.js"></script>
    <script src="js/3rdparty/markdown-it.min.js"></script>
    <script src="js/3rdparty/highlight.min.js"></script>
    <script type="module" src="js/main.js"></script>
</body>

</html>
